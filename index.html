<!DOCTYPE html>
<!--
  Tea Stall Billing Web App (Single File)
  How to run: Open this file (index.html) in any modern browser. No server needed.
  Tech: Pure HTML, CSS, and vanilla JavaScript. No frameworks, no backend.
  Notes:
    - QR code is a placeholder SVG. No real payment verification is implemented.
    - Orders are saved to localStorage under the key "teaStallOrders".
    - Use "Export CSV" or "Export JSON" in Sales Log to download saved orders.
    - To add menu items, edit the MENU_ITEMS array in the JS section below.
-->
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <title>Tea Stall Billing</title>
    <style>
      :root {
        --bg: #0f172a; /* slate-900 */
        --panel: #111827; /* gray-900 */
        --muted: #1f2937; /* gray-800 */
        --text: #e5e7eb; /* gray-200 */
        --subtle: #9ca3af; /* gray-400 */
        --brand: #22c55e; /* green-500 */
        --accent: #a78bfa; /* violet-400 */
        --danger: #ef4444; /* red-500 */
        --warn: #f59e0b; /* amber-500 */
        --border: #334155; /* slate-700 */
        --shadow: 0 8px 20px rgba(0,0,0,0.35);
        --radius: 14px;
        --touch: 48px;
      }

      * { box-sizing: border-box; }
      html, body {
        margin: 0;
        padding: 0;
        background: linear-gradient(180deg, #0b1220 0%, #0f172a 100%);
        color: var(--text);
        font-family: system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }

      a { color: inherit; }
      button { cursor: pointer; }

      .app {
        max-width: 1000px;
        margin: 0 auto;
        padding: 12px;
        display: grid;
        gap: 12px;
      }

      header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 12px;
        background: radial-gradient(1200px 300px at 30% -50%, rgba(124,58,237,0.15), transparent),
                    radial-gradient(900px 250px at 90% -40%, rgba(34,197,94,0.12), transparent),
                    var(--panel);
        padding: 12px 14px;
        border: 1px solid var(--border);
        border-radius: var(--radius);
        box-shadow: var(--shadow);
      }
      .brand {
        display: flex;
        align-items: center;
        gap: 10px;
      }
      .brand-logo {
        width: 36px;
        height: 36px;
        border-radius: 10px;
        background: conic-gradient(from 180deg at 50% 50%, rgba(167,139,250,0.9), rgba(34,197,94,0.9), rgba(167,139,250,0.9));
        box-shadow: inset 0 0 18px rgba(255,255,255,0.25), 0 10px 18px rgba(0,0,0,0.3);
      }
      h1 {
        font-size: 17px;
        margin: 0;
        letter-spacing: 0.2px;
      }

      .tabs {
        display: flex;
        gap: 6px;
        background: rgba(255,255,255,0.03);
        padding: 6px;
        border-radius: 10px;
      }
      .tab-btn {
        min-height: 36px;
        padding: 8px 12px;
        border-radius: 10px;
        border: 1px solid transparent;
        background: transparent;
        color: var(--text);
        font-weight: 600;
      }
      .tab-btn[aria-selected="true"] {
        background: linear-gradient(180deg, rgba(34,197,94,0.18), rgba(34,197,94,0.08));
        border-color: rgba(34,197,94,0.3);
      }

      .grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 12px;
      }
      @media (min-width: 760px) {
        .grid {
          grid-template-columns: 1.1fr 0.9fr;
        }
      }

      .card {
        background: linear-gradient(180deg, rgba(17,24,39,0.9), rgba(15,23,42,0.95));
        border: 1px solid var(--border);
        border-radius: var(--radius);
        padding: 12px;
        box-shadow: var(--shadow);
      }
      .card h2 {
        margin: 0 0 10px 0;
        font-size: 16px;
      }

      .menu-grid {
        display: grid;
        grid-template-columns: repeat(3, minmax(0, 1fr));
        gap: 8px;
      }
      @media (min-width: 560px) {
        .menu-grid { grid-template-columns: repeat(4, minmax(0, 1fr)); }
      }
      @media (min-width: 900px) {
        .menu-grid { grid-template-columns: repeat(5, minmax(0, 1fr)); }
      }

      .item-btn {
        min-height: var(--touch);
        border-radius: 12px;
        border: 1px solid var(--border);
        background: linear-gradient(180deg, rgba(31,41,55,0.65), rgba(17,24,39,0.9));
        color: var(--text);
        font-weight: 700;
        letter-spacing: 0.2px;
        box-shadow: 0 2px 0 rgba(255,255,255,0.05) inset, 0 10px 16px rgba(0,0,0,0.35);
      }
      .item-btn:focus-visible {
        outline: 2px solid var(--accent);
        outline-offset: 2px;
      }

      .cart-list {
        display: grid;
        gap: 8px;
      }

      .cart-row {
        display: grid;
        grid-template-columns: 1fr auto auto auto;
        gap: 8px;
        align-items: center;
        background: rgba(255,255,255,0.02);
        border: 1px solid var(--border);
        padding: 8px;
        border-radius: 10px;
      }
      .qty-group {
        display: inline-flex;
        align-items: center;
        gap: 4px;
        background: rgba(0,0,0,0.3);
        border: 1px solid var(--border);
        border-radius: 10px;
        padding: 2px;
      }
      .qty-group button {
        width: 36px;
        height: 36px;
        border-radius: 8px;
        border: 1px solid var(--border);
        background: linear-gradient(180deg, rgba(31,41,55,0.65), rgba(17,24,39,0.9));
        color: var(--text);
        font-weight: 900;
        box-shadow: 0 10px 16px rgba(0,0,0,0.35);
      }
      .qty-group input {
        width: 42px;
        height: 36px;
        background: rgba(17,24,39,0.8);
        color: var(--text);
        border: 1px solid var(--border);
        border-radius: 8px;
        text-align: center;
        font-weight: 700;
      }

      .money {
        font-variant-numeric: tabular-nums;
        font-weight: 700;
      }
      .muted { color: var(--subtle); }

      .totals {
        display: grid;
        gap: 8px;
        padding-top: 8px;
        border-top: 1px dashed var(--border);
      }
      .row {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      .grand {
        font-size: 18px;
        font-weight: 900;
      }

      .actions {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 8px;
        margin-top: 8px;
      }
      .btn {
        min-height: var(--touch);
        border-radius: 12px;
        border: 1px solid var(--border);
        background: linear-gradient(180deg, rgba(34,197,94,0.22), rgba(34,197,94,0.08));
        color: var(--text);
        font-weight: 800;
        letter-spacing: 0.3px;
        box-shadow: 0 10px 16px rgba(0,0,0,0.35);
      }
      .btn.secondary {
        background: linear-gradient(180deg, rgba(167,139,250,0.22), rgba(167,139,250,0.08));
      }
      .btn.warn {
        background: linear-gradient(180deg, rgba(245,158,11,0.25), rgba(245,158,11,0.08));
      }
      .btn.danger {
        background: linear-gradient(180deg, rgba(239,68,68,0.25), rgba(239,68,68,0.08));
      }

      /* Modal */
      .modal {
        position: fixed;
        inset: 0;
        display: none;
        align-items: center;
        justify-content: center;
        padding: 14px;
        background: rgba(2,6,23,0.72);
        backdrop-filter: blur(6px);
      }
      .modal[open] {
        display: flex;
      }
      .modal-card {
        width: min(720px, 100%);
        max-height: 88vh;
        overflow: auto;
        background: var(--panel);
        border: 1px solid var(--border);
        border-radius: var(--radius);
        box-shadow: var(--shadow);
        padding: 14px;
      }
      .modal-head {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 8px;
        border-bottom: 1px dashed var(--border);
        padding-bottom: 8px;
        margin-bottom: 8px;
      }
      .bill-table {
        width: 100%;
        border-collapse: collapse;
        font-size: 14px;
      }
      .bill-table th, .bill-table td {
        text-align: left;
        padding: 8px;
        border-bottom: 1px dashed var(--border);
      }
      .bill-footer {
        display: grid;
        gap: 10px;
        margin-top: 10px;
      }
      .qr {
        width: 160px;
        height: 160px;
        border-radius: 12px;
        background: radial-gradient(400px 100px at 30% -10%, rgba(167,139,250,0.2), transparent),
                    radial-gradient(200px 60px at 90% -10%, rgba(34,197,94,0.2), transparent),
                    rgba(255,255,255,0.02);
        border: 1px dashed var(--border);
        display: grid;
        place-items: center;
        overflow: hidden;
      }
      .bill-actions {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 8px;
      }

      /* Sales Log */
      .log-actions {
        display: grid;
        grid-template-columns: 1fr 1fr 1fr;
        gap: 8px;
        margin-bottom: 8px;
      }
      .log-table {
        width: 100%;
        border-collapse: collapse;
      }
      .log-table th, .log-table td {
        text-align: left;
        padding: 8px;
        border-bottom: 1px dashed var(--border);
      }

      /* Print styles for bill */
      @media print {
        body { background: #fff; }
        header, .tabs, .grid > :not(#billModal) { display: none !important; }
        .modal { position: static; display: block !important; background: none; padding: 0; }
        .modal-card { width: 100%; max-height: none; border: none; box-shadow: none; }
        .bill-actions { display: none; }
      }
    </style>
  </head>
  <body>
    <div class="app" role="application">
      <header>
        <div class="brand" aria-label="App title">
          <div class="brand-logo" aria-hidden="true"></div>
          <div>
            <h1>Tea Stall Billing</h1>
            <div class="muted" style="font-size:12px;">Fast, simple POS • Offline ready</div>
          </div>
        </div>
        <nav class="tabs" aria-label="Views">
          <button id="tab-pos" class="tab-btn" aria-selected="true" aria-controls="view-pos">POS</button>
          <button id="tab-log" class="tab-btn" aria-selected="false" aria-controls="view-log">Sales Log</button>
        </nav>
      </header>

      <!-- POS VIEW -->
      <section id="view-pos" class="grid" role="region" aria-label="Point of Sale">
        <div class="card" aria-labelledby="menu-heading">
          <h2 id="menu-heading">Menu</h2>
          <div id="menu" class="menu-grid" role="group" aria-label="Items"></div>
          <div style="margin-top:10px; border-top:1px dashed var(--border); padding-top:10px;">
            <h3 style="margin:0 0 8px 0; font-size:14px;">Add New Item</h3>
            <form id="addItemForm" style="display:grid; grid-template-columns: 1fr 1fr; gap:8px;" aria-label="Add new menu item">
              <input id="newItemName" required placeholder="Name" aria-label="Item name" style="height:36px;border-radius:8px;border:1px solid var(--border);background:rgba(17,24,39,0.8);color:var(--text);padding:0 10px;" />
              <input id="newItemPrice" required inputmode="decimal" placeholder="Price (₹)" aria-label="Item price" style="height:36px;border-radius:8px;border:1px solid var(--border);background:rgba(17,24,39,0.8);color:var(--text);padding:0 10px;" />
              <input id="newItemImg" placeholder="Image URL (optional)" aria-label="Image URL" style="grid-column: span 2; height:36px;border-radius:8px;border:1px solid var(--border);background:rgba(17,24,39,0.8);color:var(--text);padding:0 10px;" />
              <div style="display:grid; grid-template-columns: 1fr 1fr; gap:8px; grid-column: span 2;">
                <button class="btn" type="submit">Add Item</button>
                <button class="btn secondary" type="button" id="manageMenuBtn" title="Edit existing items">Manage Menu</button>
                <button class="btn warn" type="button" id="resetMenuBtn" title="Restore default menu">Reset Menu</button>
              </div>
            </form>
          </div>
        </div>
        <div class="card" aria-labelledby="cart-heading">
          <h2 id="cart-heading">Cart</h2>
          <div id="cartList" class="cart-list"></div>
          <div class="totals" aria-live="polite">
            <div class="row"><span class="muted">Subtotal</span><span class="money" id="subtotal">₹0.00</span></div>
            <div class="row"><span class="muted">Tax (0%)</span><span class="money" id="tax">₹0.00</span></div>
            <div class="row grand"><span>Total</span><span class="money" id="grand">₹0.00</span></div>
          </div>
          <div class="actions">
            <button id="btn-generate" class="btn" title="Open bill view">Generate Bill</button>
            <button id="btn-clear" class="btn danger" title="Clear current cart">Clear Cart</button>
          </div>
        </div>
      </section>

      <!-- SALES LOG VIEW -->
      <section id="view-log" class="card" hidden role="region" aria-label="Sales log">
        <h2>Sales Log</h2>
        <div class="log-actions">
          <button id="btn-export-csv" class="btn secondary">Export CSV</button>
          <button id="btn-export-json" class="btn secondary">Export JSON</button>
          <button id="btn-clear-orders" class="btn warn">Clear Saved Orders</button>
        </div>
        <div style="overflow:auto;">
          <table class="log-table" aria-describedby="sales-summary">
            <thead>
              <tr>
                <th>Date</th>
                <th>Time</th>
                <th>Items</th>
                <th>Total (₹)</th>
              </tr>
            </thead>
            <tbody id="logBody"></tbody>
          </table>
        </div>
        <div id="sales-summary" class="muted" style="margin-top:8px;font-size:12px;">Loaded from localStorage: teaStallOrders</div>
      </section>
    </div>

    <!-- BILL MODAL -->
    <dialog id="billModal" class="modal" aria-labelledby="bill-title" aria-modal="true">
      <div class="modal-card">
        <div class="modal-head">
          <div>
            <div style="font-weight:900;">Tea Stall Bill</div>
            <div id="billTime" class="muted" style="font-size:12px;"></div>
          </div>
          <button id="btn-close-bill" class="btn secondary" formmethod="dialog">Close</button>
        </div>
        <div id="billItemsWrap" style="overflow:auto; margin-bottom:10px;">
          <table class="bill-table">
            <thead>
              <tr>
                <th>Item</th>
                <th>Qty</th>
                <th>Unit</th>
                <th>Amount</th>
              </tr>
            </thead>
            <tbody id="billBody"></tbody>
          </table>
        </div>
        <div class="row">
          <div>
            <div class="muted" style="font-size:12px;">Scan to pay (placeholder)</div>
            <div class="qr" aria-label="QR placeholder" title="QR placeholder">
              <!-- Simple QR-like SVG placeholder -->
              <svg width="140" height="140" viewBox="0 0 140 140" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <rect x="0" y="0" width="140" height="140" fill="#0b1220"/>
                <rect x="6" y="6" width="40" height="40" fill="#e5e7eb"/>
                <rect x="10" y="10" width="16" height="16" fill="#0b1220"/>
                <rect x="28" y="28" width="12" height="12" fill="#0b1220"/>
                <rect x="94" y="6" width="40" height="40" fill="#e5e7eb"/>
                <rect x="98" y="10" width="16" height="16" fill="#0b1220"/>
                <rect x="116" y="28" width="12" height="12" fill="#0b1220"/>
                <rect x="6" y="94" width="40" height="40" fill="#e5e7eb"/>
                <rect x="10" y="98" width="16" height="16" fill="#0b1220"/>
                <rect x="28" y="116" width="12" height="12" fill="#0b1220"/>
                <rect x="56" y="56" width="10" height="10" fill="#e5e7eb"/>
                <rect x="70" y="56" width="6" height="6" fill="#e5e7eb"/>
                <rect x="84" y="56" width="10" height="10" fill="#e5e7eb"/>
                <rect x="56" y="72" width="6" height="6" fill="#e5e7eb"/>
                <rect x="66" y="72" width="10" height="10" fill="#e5e7eb"/>
                <rect x="82" y="72" width="6" height="6" fill="#e5e7eb"/>
                <rect x="94" y="72" width="10" height="10" fill="#e5e7eb"/>
                <rect x="56" y="88" width="10" height="10" fill="#e5e7eb"/>
                <rect x="72" y="88" width="6" height="6" fill="#e5e7eb"/>
                <rect x="84" y="88" width="10" height="10" fill="#e5e7eb"/>
              </svg>
            </div>
            <a id="upiLink" class="btn" style="display:inline-grid; place-items:center; margin-top:8px; text-decoration:none;" href="#" target="_blank" rel="noopener">
              Open UPI App
            </a>
          </div>
          <div style="text-align:right;">
            <div class="row"><span class="muted">Subtotal</span><span class="money" id="billSubtotal">₹0.00</span></div>
            <div class="row"><span class="muted">Tax (0%)</span><span class="money" id="billTax">₹0.00</span></div>
            <div class="row grand"><span>Total</span><span class="money" id="billGrand">₹0.00</span></div>
          </div>
        </div>
        <div class="bill-actions" style="margin-top:10px;">
          <button id="btn-complete" class="btn">Complete / Save Order</button>
          <button id="btn-print" class="btn secondary">Print</button>
        </div>
      </div>
    </dialog>

    <!-- MANAGE MENU MODAL -->
    <dialog id="manageMenuModal" class="modal" aria-labelledby="manage-title" aria-modal="true">
      <div class="modal-card">
        <div class="modal-head">
          <div>
            <div style="font-weight:900;" id="manage-title">Manage Menu</div>
            <div class="muted" style="font-size:12px;">Edit names, prices, and images</div>
          </div>
          <button id="btn-close-manage" class="btn secondary" formmethod="dialog">Close</button>
        </div>
        <div id="manageList" style="display:grid; gap:8px;"></div>
      </div>
    </dialog>

    <script>
      // -----------------------
      // Configuration
      // -----------------------
      // To add/edit menu items, update this array. Prices in INR.
      const MENU_ITEMS = [
        { id: "tea", name: "Tea", price: 10, img: "https://www.sharmispassions.com/wp-content/uploads/2012/12/cardamom-tea4.jpg" },
        { id: "coffee", name: "Coffee", price: 10, img: "https://munchmalaysia.com/wp-content/uploads/2023/06/big-basket.webp" },
        { id: "lemon-tea", name: "Lemon Tea", price: 15, img: "https://teacultureoftheworld.com/cdn/shop/files/Image1.jpg?v=1699359685" },
        { id: "boost", name: "Boost", price: 15, img: "https://i.ytimg.com/vi/Ehz2Zm7PIx4/hq720.jpg?sqp=-oaymwEhCK4FEIIDSFryq4qpAxMIARUAAAAAGAElAADIQj0AgKJD&rs=AOn4CLDlO1WoZTrDcRPXVS1cjeUUnHYdwA" },
        { id: "horlicks", name: "Horlicks", price: 15, img: "data:image/jpeg;base64,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" },
        { id: "black-tea", name: "Black Tea", price: 10, img: "data:image/jpeg;base64,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" },
        { id: "malt", name: "Malt", price: 10, img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQipcWMI1be50rU_3lRmLeWezpC6LkkYKa6mQ&s" },
        { id: "milk", name: "Milk", price: 10, img: "https://mydiagnostics.in/cdn/shop/articles/img-1748326586409_1200x.jpg?v=1748327918" },
        { id: "bun", name: "Bun", price: 5, img: "https://www.allrecipes.com/thmb/ElKonA1CRuvBP36EunGE4GVkfJo=/1500x0/filters:no_upscale():max_bytes(150000):strip_icc()/AR-6761-tasty-buns-DDMFS-4x3-87727702d7944a07897f59ba6d3ab21d.jpg" },
        { id: "biscuit", name: "Biscuits", price: 3, img: "https://static.toiimg.com/thumb/62403305.cms?imgsize=566439&width=800&height=800" },
        { id: "chakli", name: "chakli", price: 5, img: "https://patilkaki.com/cdn/shop/files/ChakliSI-1500x1500.jpg?v=1741166632" },
        { id: "maddur-vada", name: "Maddur-Vada", price: 12, img: "https://rakskitchen.net/wp-content/uploads/2022/08/maddur-vadai-500x500.jpg" },
        { id: "cake", name: "Cake", price: 10, img: "https://www.awesomecuisine.com/wp-content/uploads/2016/12/Vanilla-Sponge-Cake.jpg" }

      ];
      const STORAGE_KEY = "teaStallOrders";
      const MENU_STORAGE_KEY = "teaStallMenu";
      const TAX_RATE = 0; // 0% tax; change if needed (e.g., 5)

      // -----------------------
      // State
      // -----------------------
      let cart = new Map(); // key: item.id, value: { id, name, price, qty }

      // -----------------------
      // DOM refs
      // -----------------------
      const menuEl = document.getElementById("menu");
      const cartListEl = document.getElementById("cartList");
      const subtotalEl = document.getElementById("subtotal");
      const taxEl = document.getElementById("tax");
      const grandEl = document.getElementById("grand");

      const btnGenerate = document.getElementById("btn-generate");
      const btnClear = document.getElementById("btn-clear");

      const billModal = document.getElementById("billModal");
      const billBodyEl = document.getElementById("billBody");
      const billSubtotalEl = document.getElementById("billSubtotal");
      const billTaxEl = document.getElementById("billTax");
      const billGrandEl = document.getElementById("billGrand");
      const billTimeEl = document.getElementById("billTime");
      const upiLinkEl = document.getElementById("upiLink");
      const btnComplete = document.getElementById("btn-complete");
      const btnPrint = document.getElementById("btn-print");
      const btnCloseBill = document.getElementById("btn-close-bill");

      // Manage Menu
      const manageMenuBtn = document.getElementById("manageMenuBtn");
      const manageMenuModal = document.getElementById("manageMenuModal");
      const manageList = document.getElementById("manageList");
      const btnCloseManage = document.getElementById("btn-close-manage");

      const tabPos = document.getElementById("tab-pos");
      const tabLog = document.getElementById("tab-log");
      const viewPos = document.getElementById("view-pos");
      const viewLog = document.getElementById("view-log");
      const logBodyEl = document.getElementById("logBody");
      const btnExportCsv = document.getElementById("btn-export-csv");
      const btnExportJson = document.getElementById("btn-export-json");
      const btnClearOrders = document.getElementById("btn-clear-orders");

      // -----------------------
      // Utilities
      // -----------------------
      const formatMoney = (value) => "₹" + value.toFixed(2);
      const getCartItems = () => Array.from(cart.values());
      const calcTotals = () => {
        const subtotal = getCartItems().reduce((sum, it) => sum + it.price * it.qty, 0);
        const tax = subtotal * (TAX_RATE / 100);
        const grand = subtotal + tax;
        return { subtotal, tax, grand };
      };
      const uid = (prefix = "id") => prefix + "_" + Math.random().toString(36).slice(2, 8);
      const svgPlaceholder = (label) => {
        const text = encodeURIComponent(label || "Item");
        const svg = `<svg xmlns='http://www.w3.org/2000/svg' width='200' height='200'>
  <defs>
    <linearGradient id='g' x1='0' x2='1' y1='0' y2='1'>
      <stop offset='0%' stop-color='#1f2937'/>
      <stop offset='100%' stop-color='#0b1220'/>
    </linearGradient>
  </defs>
  <rect width='100%' height='100%' fill='url(#g)'/>
  <g fill='none' stroke='#334155' opacity='0.6'>
    <path d='M0 20 H200 M0 60 H200 M0 100 H200 M0 140 H200 M0 180 H200'/>
  </g>
  <text x='100' y='110' font-family='Segoe UI,Arial,sans-serif' font-size='20' fill='#e5e7eb' text-anchor='middle'>${text}</text>
</svg>`;
        return "data:image/svg+xml;utf8," + svg;
      };

      // Persist menu (including user-added items)
      function readMenu() {
        try {
          const raw = localStorage.getItem(MENU_STORAGE_KEY);
          if (!raw) return null;
          const parsed = JSON.parse(raw);
          return Array.isArray(parsed) ? parsed : null;
        } catch {
          return null;
        }
      }
      function writeMenu(items) {
        localStorage.setItem(MENU_STORAGE_KEY, JSON.stringify(items));
      }

      // -----------------------
      // Rendering
      // -----------------------
      let currentMenu = null; // loaded menu (defaults or from storage)

      function ensureMenuLoaded() {
        if (!currentMenu) {
          currentMenu = readMenu() || MENU_ITEMS.slice();
          // If stored menu missing img, backfill with an inline SVG placeholder (offline-safe)
          currentMenu = currentMenu.map((it) => ({
            ...it,
            img: it.img || svgPlaceholder(it.name),
          }));
          writeMenu(currentMenu);
        }
      }

      function renderMenu() {
        ensureMenuLoaded();
        menuEl.innerHTML = "";
        currentMenu.forEach((item, idx) => {
          const btn = document.createElement("button");
          btn.className = "item-btn";
          btn.setAttribute("data-id", item.id);
          btn.setAttribute("title", `Add ${item.name}`);
          btn.innerHTML = `
            <img src="${item.img}" alt="${item.name}" style="width:100%;height:84px;object-fit:cover;border-radius:10px;margin-bottom:6px;border:1px solid var(--border);" onerror="this.onerror=null; this.src='${svgPlaceholder(item.name)}';" />
            <div style="font-weight:800;">${item.name}</div>
            <div class="muted" style="font-size:12px;">₹${item.price}</div>
          `;
          btn.addEventListener("click", () => addItemToCart(item.id));
          btn.addEventListener("keydown", (e) => {
            if (e.key === "Enter" || e.key === " ") {
              e.preventDefault();
              addItemToCart(item.id);
            }
          });
          btn.setAttribute("aria-label", `${item.name} rupees ${item.price}`);
          btn.setAttribute("tabindex", "0");
          menuEl.appendChild(btn);
        });
      }

      // -----------------------
      // Manage Menu (Edit Items)
      // -----------------------
      function openManageMenu() {
        ensureMenuLoaded();
        renderManageList();
        if (typeof manageMenuModal.showModal === "function") {
          manageMenuModal.showModal();
        } else {
          manageMenuModal.setAttribute("open", "");
        }
      }

      function closeManageMenu() {
        if (typeof manageMenuModal.close === "function") {
          try { manageMenuModal.close(); } catch {}
        }
        manageMenuModal.removeAttribute("open");
      }

      function renderManageList() {
        manageList.innerHTML = "";
        currentMenu.forEach((it) => {
          const row = document.createElement("div");
          row.className = "cart-row";
          row.style.gridTemplateColumns = "auto 1fr auto";
          row.innerHTML = `
            <img src="${it.img}" alt="${it.name}" style="width:64px;height:64px;object-fit:cover;border-radius:8px;border:1px solid var(--border);" />
            <div style="display:grid; gap:6px;">
              <div style="display:grid; grid-template-columns: 1fr 120px; gap:6px;">
                <input value="${it.name}" data-field="name" aria-label="Name" style="height:32px;border-radius:8px;border:1px solid var(--border);background:rgba(17,24,39,0.8);color:var(--text);padding:0 8px;" />
                <input value="${it.price}" data-field="price" inputmode="decimal" aria-label="Price" style="height:32px;border-radius:8px;border:1px solid var(--border);background:rgba(17,24,39,0.8);color:var(--text);padding:0 8px;" />
              </div>
              <input value="${it.img}" data-field="img" aria-label="Image URL" style="height:32px;border-radius:8px;border:1px solid var(--border);background:rgba(17,24,39,0.8);color:var(--text);padding:0 8px;" />
              <div style="display:flex; gap:6px; align-items:center;">
                <input type="file" accept="image/*" data-field="file" aria-label="Upload image" />
                <button class="btn secondary" data-action="save">Save</button>
                <button class="btn danger" data-action="delete">Delete</button>
              </div>
            </div>
            <div class="money">₹${(it.price).toFixed(2)}</div>
          `;

          // Hook file upload to convert to data URL and set into img input
          const fileInput = row.querySelector('[data-field="file"]');
          const imgInput = row.querySelector('[data-field="img"]');
          fileInput.addEventListener("change", (e) => {
            const file = e.target.files && e.target.files[0];
            if (!file) return;
            const reader = new FileReader();
            reader.onload = () => {
              imgInput.value = reader.result; // data URL
            };
            reader.readAsDataURL(file);
          });

          // Save action
          row.querySelector('[data-action="save"]').addEventListener("click", () => {
            const name = row.querySelector('[data-field="name"]').value.trim();
            const priceVal = parseFloat(row.querySelector('[data-field="price"]').value);
            const img = imgInput.value.trim();
            if (!name || !Number.isFinite(priceVal) || priceVal <= 0) {
              alert("Please enter a valid name and price.");
              return;
            }
            it.name = name;
            it.price = Math.round(priceVal * 100) / 100;
            it.img = img || it.img;
            writeMenu(currentMenu);
            renderMenu();
            renderManageList();
          });

          // Delete action
          row.querySelector('[data-action="delete"]').addEventListener("click", () => {
            if (!confirm(`Delete "${it.name}" from menu?`)) return;
            currentMenu = currentMenu.filter((m) => m.id !== it.id);
            writeMenu(currentMenu);
            renderMenu();
            renderManageList();
          });

          manageList.appendChild(row);
        });
        if (currentMenu.length === 0) {
          const empty = document.createElement("div");
          empty.className = "muted";
          empty.textContent = "No items. Add items from the POS view.";
          manageList.appendChild(empty);
        }
      }

      function renderCart() {
        cartListEl.innerHTML = "";
        getCartItems().forEach((it) => {
          const row = document.createElement("div");
          row.className = "cart-row";
          row.innerHTML = `
            <div>
              <div style="font-weight:800;">${it.name}</div>
              <div class="muted" style="font-size:12px;">₹${it.price} each</div>
            </div>
            <div class="qty-group" aria-label="Quantity controls">
              <button class="dec" title="Decrease" aria-label="Decrease">-</button>
              <input class="qty" inputmode="numeric" pattern="[0-9]*" value="${it.qty}" aria-label="Quantity input" />
              <button class="inc" title="Increase" aria-label="Increase">+</button>
            </div>
            <div class="money">₹${(it.price * it.qty).toFixed(2)}</div>
            <button class="btn danger remove" title="Remove" aria-label="Remove item">Remove</button>
          `;
          // Qty handlers
          row.querySelector(".dec").addEventListener("click", () => updateQty(it.id, it.qty - 1));
          row.querySelector(".inc").addEventListener("click", () => updateQty(it.id, it.qty + 1));
          row.querySelector(".qty").addEventListener("change", (e) => {
            const val = parseInt(e.target.value, 10);
            updateQty(it.id, Number.isFinite(val) ? val : it.qty);
          });
          row.querySelector(".remove").addEventListener("click", () => removeItemFromCart(it.id));
          cartListEl.appendChild(row);
        });
        updateTotalsDisplay();
      }

      function updateTotalsDisplay() {
        const { subtotal, tax, grand } = calcTotals();
        subtotalEl.textContent = formatMoney(subtotal);
        taxEl.textContent = formatMoney(tax);
        grandEl.textContent = formatMoney(grand);
      }

      // -----------------------
      // Cart Operations
      // -----------------------
      // addItemToCart: Adds item or increases quantity if it already exists
      function addItemToCart(itemId) {
        ensureMenuLoaded();
        const item = currentMenu.find((m) => m.id === itemId);
        if (!item) return;
        if (cart.has(item.id)) {
          const cur = cart.get(item.id);
          cur.qty += 1;
        } else {
          cart.set(item.id, { id: item.id, name: item.name, price: item.price, qty: 1 });
        }
        renderCart();
      }

      // updateQty: Updates quantity; removes item if qty < 1
      function updateQty(itemId, newQty) {
        if (!cart.has(itemId)) return;
        const qty = Math.max(0, Math.floor(newQty || 0));
        if (qty < 1) {
          cart.delete(itemId);
        } else {
          const it = cart.get(itemId);
          it.qty = qty;
        }
        renderCart();
      }

      // removeItemFromCart: Removes an item entirely
      function removeItemFromCart(itemId) {
        cart.delete(itemId);
        renderCart();
      }

      function clearCart() {
        cart.clear();
        renderCart();
      }

      // -----------------------
      // Bill Generation
      // -----------------------
      function openBillModal() {
        const items = getCartItems();
        if (items.length === 0) {
          alert("Cart is empty.");
          return;
        }
        billBodyEl.innerHTML = "";
        items.forEach((it) => {
          const tr = document.createElement("tr");
          tr.innerHTML = `
            <td>${it.name}</td>
            <td>${it.qty}</td>
            <td>${formatMoney(it.price)}</td>
            <td class="money">${formatMoney(it.price * it.qty)}</td>
          `;
          billBodyEl.appendChild(tr);
        });
        const { subtotal, tax, grand } = calcTotals();
        billSubtotalEl.textContent = formatMoney(subtotal);
        billTaxEl.textContent = formatMoney(tax);
        billGrandEl.textContent = formatMoney(grand);

        const now = new Date();
        billTimeEl.textContent = now.toLocaleString();

        // Optional UPI deeplink (no verification)
        const merchant = "upi";
        const vpa = "merchant@upi"; // placeholder
        const tn = encodeURIComponent("Tea Stall Order");
        const am = encodeURIComponent(grand.toFixed(2));
        const upiURL = `upi://pay?pa=${vpa}&pn=${merchant}&tn=${tn}&am=${am}&cu=INR`;
        upiLinkEl.href = upiURL;

        if (typeof billModal.showModal === "function") {
          billModal.showModal();
        } else {
          billModal.setAttribute("open", "");
        }
      }

      // -----------------------
      // Save Order & Persistence
      // -----------------------
      // saveCurrentOrder: Saves order to localStorage and clears cart
      function saveCurrentOrder() {
        const items = getCartItems();
        if (items.length === 0) {
          alert("Nothing to save. Cart is empty.");
          return;
        }
        const { subtotal, tax, grand } = calcTotals();
        const order = {
          id: "ord_" + Date.now(),
          timestamp: Date.now(),
          items: items.map(({ id, name, price, qty }) => ({ id, name, price, qty })),
          totals: { subtotal, tax, grand }
        };
        const existing = readOrders();
        existing.push(order);
        localStorage.setItem(STORAGE_KEY, JSON.stringify(existing));
        clearCart();
        closeBill();
        alert("Order saved.");
        if (!viewLog.hasAttribute("hidden")) {
          renderSalesLog();
        }
      }

      function readOrders() {
        try {
          const raw = localStorage.getItem(STORAGE_KEY);
          if (!raw) return [];
          const parsed = JSON.parse(raw);
          return Array.isArray(parsed) ? parsed : [];
        } catch {
          return [];
        }
      }

      function clearOrders() {
        if (!confirm("Clear all saved orders?")) return;
        localStorage.removeItem(STORAGE_KEY);
        renderSalesLog();
      }

      // -----------------------
      // Export Helpers
      // -----------------------
      // downloadJSON: Provides a JSON download of saved orders
      function downloadJSON() {
        const orders = readOrders();
        const blob = new Blob([JSON.stringify(orders, null, 2)], { type: "application/json" });
        const url = URL.createObjectURL(blob);
        triggerDownload(url, "tea-stall-orders.json");
        URL.revokeObjectURL(url);
      }

      // downloadCSV: Provides a CSV download of saved orders
      // Columns: orderId, date, time, itemCount, total
      function downloadCSV() {
        const orders = readOrders();
        const header = ["orderId", "date", "time", "itemCount", "total"];
        const rows = orders.map((o) => {
          const d = new Date(o.timestamp);
          const date = d.toLocaleDateString();
          const time = d.toLocaleTimeString();
          const itemCount = o.items.reduce((n, it) => n + it.qty, 0);
          const total = o.totals?.grand ?? 0;
          return [o.id, date, time, itemCount, total.toFixed(2)];
        });
        const csv = [header, ...rows].map((r) => r.join(",")).join("\n");
        const blob = new Blob([csv], { type: "text/csv" });
        const url = URL.createObjectURL(blob);
        triggerDownload(url, "tea-stall-orders.csv");
        URL.revokeObjectURL(url);
      }

      function triggerDownload(url, filename) {
        const a = document.createElement("a");
        a.href = url;
        a.download = filename;
        document.body.appendChild(a);
        a.click();
        a.remove();
      }

      // -----------------------
      // Sales Log
      // -----------------------
      function renderSalesLog() {
        const orders = readOrders().sort((a, b) => b.timestamp - a.timestamp);
        logBodyEl.innerHTML = "";
        orders.forEach((o) => {
          const d = new Date(o.timestamp);
          const tr = document.createElement("tr");
          tr.innerHTML = `
            <td>${d.toLocaleDateString()}</td>
            <td>${d.toLocaleTimeString()}</td>
            <td>${o.items.length} items</td>
            <td class="money">${(o.totals?.grand ?? 0).toFixed(2)}</td>
          `;
          logBodyEl.appendChild(tr);
        });
        if (orders.length === 0) {
          const tr = document.createElement("tr");
          tr.innerHTML = '<td colspan="4" class="muted">No saved orders yet.</td>';
          logBodyEl.appendChild(tr);
        }
      }

      // -----------------------
      // Modal helpers
      // -----------------------
      function closeBill() {
        if (typeof billModal.close === "function") {
          try { billModal.close(); } catch {}
        }
        billModal.removeAttribute("open");
      }

      // -----------------------
      // Event wiring
      // -----------------------
      btnGenerate.addEventListener("click", openBillModal);
      btnClear.addEventListener("click", clearCart);
      btnComplete.addEventListener("click", saveCurrentOrder);
      btnPrint.addEventListener("click", () => window.print());
      btnCloseBill.addEventListener("click", closeBill);

      tabPos.addEventListener("click", () => {
        tabPos.setAttribute("aria-selected", "true");
        tabLog.setAttribute("aria-selected", "false");
        viewPos.removeAttribute("hidden");
        viewLog.setAttribute("hidden", "");
      });
      tabLog.addEventListener("click", () => {
        tabPos.setAttribute("aria-selected", "false");
        tabLog.setAttribute("aria-selected", "true");
        viewPos.setAttribute("hidden", "");
        viewLog.removeAttribute("hidden");
        renderSalesLog();
      });

      btnExportCsv.addEventListener("click", downloadCSV);
      btnExportJson.addEventListener("click", downloadJSON);
      btnClearOrders.addEventListener("click", clearOrders);

      // Init
      renderMenu();
      renderCart();

      // Add Item form handlers
      const addItemForm = document.getElementById("addItemForm");
      const newItemName = document.getElementById("newItemName");
      const newItemPrice = document.getElementById("newItemPrice");
      const newItemImg = document.getElementById("newItemImg");
      const resetMenuBtn = document.getElementById("resetMenuBtn");
      const manageMenuTrigger = document.getElementById("manageMenuBtn");

      function resetAddForm() {
        newItemName.value = "";
        newItemPrice.value = "";
        newItemImg.value = "";
      }

      addItemForm.addEventListener("submit", (e) => {
        e.preventDefault();
        ensureMenuLoaded();
        const name = newItemName.value.trim();
        const price = parseFloat(newItemPrice.value);
        const img = (newItemImg.value || "").trim();
        if (!name || !Number.isFinite(price) || price <= 0) {
          alert("Please enter a valid name and price.");
          return;
        }
        const id = name.toLowerCase().replace(/[^a-z0-9]+/g, "-").replace(/(^-|-$)/g, "") || uid("item");
        const exists = currentMenu.some((m) => m.id === id);
        const itemId = exists ? uid(id) : id;
        const item = {
          id: itemId,
          name,
          price: Math.round(price * 100) / 100,
          img: img || `https://picsum.photos/seed/${itemId}/200`,
        };
        currentMenu.push(item);
        writeMenu(currentMenu);
        renderMenu();
        resetAddForm();
        alert("Item added to menu.");
      });

      resetMenuBtn.addEventListener("click", () => {
        if (!confirm("Restore default menu? This will remove custom items.")) return;
        localStorage.removeItem(MENU_STORAGE_KEY);
        currentMenu = null;
        renderMenu();
        alert("Menu restored.");
      });

      // Manage Menu wiring
      manageMenuTrigger.addEventListener("click", openManageMenu);
      btnCloseManage.addEventListener("click", closeManageMenu);
    </script>
  </body>
</html>

